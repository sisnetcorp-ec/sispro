<?php
/* CbPlus */
/*

*/
 require_once "\155\x69\155\x65\x50\x61\x72\x74\56\160\x68\160"; class Mail_mime { protected $txtbody; protected $htmlbody; protected $calbody; protected $html_images = array(); protected $parts = array(); protected $headers = array(); protected $build_params = array("\150\x65\141\x64\137\x65\x6e\x63\157\x64\151\x6e\x67" => "\161\x75\157\164\x65\x64\55\160\x72\x69\156\164\141\x62\154\x65", "\x74\145\170\x74\x5f\x65\x6e\143\x6f\x64\x69\156\x67" => "\x71\165\x6f\x74\x65\144\55\x70\162\151\x6e\x74\141\142\154\x65", "\150\x74\155\154\x5f\145\x6e\143\157\x64\151\156\147" => "\161\x75\x6f\x74\x65\x64\x2d\x70\162\x69\x6e\x74\141\142\x6c\145", "\x63\141\154\x65\156\x64\x61\x72\137\x65\x6e\143\x6f\x64\x69\x6e\147" => "\x71\x75\x6f\x74\145\144\x2d\x70\162\151\156\x74\x61\x62\154\x65", "\150\x74\x6d\x6c\x5f\x63\150\141\x72\x73\145\x74" => "\x49\x53\x4f\x2d\x38\x38\65\x39\x2d\61", "\164\x65\170\164\x5f\143\150\141\162\x73\x65\x74" => "\111\123\x4f\x2d\70\x38\65\x39\x2d\61", "\143\x61\x6c\x65\156\144\141\x72\x5f\143\x68\x61\162\163\x65\164" => "\125\x54\x46\x2d\70", "\150\x65\141\x64\x5f\x63\150\141\x72\163\145\x74" => "\111\x53\x4f\x2d\70\x38\x35\71\x2d\61", "\145\157\x6c" => "\15\xa", "\x64\x65\x6c\x61\x79\x5f\x66\151\x6c\x65\137\151\157" => false, "\x63\x61\154\145\156\x64\141\x72\137\x6d\145\x74\150\157\x64" => "\x72\145\x71\x75\145\163\x74", "\x70\x72\x65\141\x6d\142\154\x65" => ''); public function __construct($params = array()) { goto Hekzrd8S1urn; XGPxTJp19xX1: $this->build_params["\x65\x6f\x6c"] = MAIL_MIME_CRLF; goto WgW3_uru2J7W; WgW3_uru2J7W: PDv1TiykFU0t: goto R65PaJY6L0VB; L54X7fcKqBVw: Js7BHqDvdA7i: goto f6DaD4vIN48C; f6DaD4vIN48C: if (!(!empty($params) && is_array($params))) { goto snK5uCq_T1NE; } goto q0cj9zcwOrly; R65PaJY6L0VB: goto Js7BHqDvdA7i; goto jzryObbc4xW5; Hekzrd8S1urn: if (is_string($params)) { goto wxf3x3px1kfL; } goto vm9sp2Xv6qhD; jzryObbc4xW5: wxf3x3px1kfL: goto y52vFSlRNg7J; q0cj9zcwOrly: $this->build_params = array_merge($this->build_params, $params); goto qGLNPM1MMKlt; qGLNPM1MMKlt: snK5uCq_T1NE: goto h2lgV2HOiffx; vm9sp2Xv6qhD: if (!(defined("\115\x41\111\114\x5f\x4d\111\115\105\137\103\x52\114\x46") && !isset($params["\x65\157\154"]))) { goto PDv1TiykFU0t; } goto XGPxTJp19xX1; y52vFSlRNg7J: $this->build_params["\x65\157\x6c"] = $params; goto L54X7fcKqBVw; h2lgV2HOiffx: } public function setParam($name, $value) { $this->build_params[$name] = $value; } public function getParam($name) { return isset($this->build_params[$name]) ? $this->build_params[$name] : null; } public function setTXTBody($data, $isfile = false, $append = false) { return $this->setBody("\164\x78\164\x62\157\144\x79", $data, $isfile, $append); } public function getTXTBody() { return $this->txtbody; } public function setHTMLBody($data, $isfile = false) { return $this->setBody("\x68\x74\x6d\154\142\x6f\144\171", $data, $isfile); } public function getHTMLBody() { return $this->htmlbody; } public function setCalendarBody($data, $isfile = false, $append = false, $method = "\x72\x65\161\165\145\163\164", $charset = "\125\124\x46\55\x38", $encoding = "\x71\165\x6f\164\x65\144\55\x70\x72\151\156\x74\141\x62\154\145") { goto UjdI_Tc0EttT; Jbyk4c7f8uko: if (!($result === true)) { goto Qu_Jr_tc2Cj2; } goto HP8HgndMq2cy; UjdI_Tc0EttT: $result = $this->setBody("\143\141\x6c\142\157\144\x79", $data, $isfile, $append); goto Jbyk4c7f8uko; Y3wHq_78DFsw: Qu_Jr_tc2Cj2: goto V_qp0M8RfRE2; UHMO15q2fW4f: $this->build_params["\x63\141\154\x65\x6e\x64\x61\162\x5f\143\x68\141\x72\163\145\164"] = $charset; goto Pp6k0IrA6Fsh; Pp6k0IrA6Fsh: $this->build_params["\143\x61\154\x65\x6e\x64\x61\x72\x5f\x65\156\x63\157\x64\151\x6e\x67"] = $encoding; goto Y3wHq_78DFsw; HP8HgndMq2cy: $this->build_params["\x63\141\154\x65\x6e\144\x61\x72\137\155\145\x74\150\x6f\x64"] = $method; goto UHMO15q2fW4f; V_qp0M8RfRE2: } public function getCalendarBody() { return $this->calbody; } public function addHTMLImage($file, $c_type = "\141\160\160\x6c\151\x63\x61\164\x69\157\156\57\157\143\164\x65\x74\55\163\x74\x72\x65\x61\155", $name = '', $isfile = true, $content_id = null) { goto SFDWuGCCQHNn; SAzrf1GG6DLu: if ($this->build_params["\144\x65\x6c\x61\171\137\146\151\154\145\x5f\151\x6f"]) { goto Bh5vRd2iNaDX; } goto WFEO3egt5x5C; jUhO3_pVycYe: $this->html_images[] = array("\142\157\x64\171" => $filedata, "\x62\x6f\144\x79\137\146\x69\x6c\x65" => $bodyfile, "\x6e\x61\x6d\145" => $filename, "\143\x5f\x74\x79\x70\x65" => $c_type, "\143\x69\x64" => $content_id); goto v_nhEJXDmDZx; TikevnATr7YG: $filename = $name ? $name : $file; goto UjGfCDGTJ9Gc; UjGfCDGTJ9Gc: GmUZHXxjc0NN: goto vaYaMnsi4QYg; d0zLK8o_9vDs: $filedata = $file; goto XDwOSUbx_IGZ; ED3po3F1wuhM: dbAQldJNpg23: goto SAzrf1GG6DLu; rZpwr6IyqPUh: goto GmUZHXxjc0NN; goto ED3po3F1wuhM; z1ldZC8fC3Kp: goto nU8ksH8mRWoB; goto SZ1xBVC6828w; VxID6kejEJ0u: return $filedata; goto oSawcIDaLLqk; D_PNABdnloRB: nU8ksH8mRWoB: goto TikevnATr7YG; v_nhEJXDmDZx: return true; goto tN2OExMunLKn; ibzrMtcwFzu_: $bodyfile = $file; goto D_PNABdnloRB; WFlaBENEjCQS: yfJQbDdGdtC_: goto jUhO3_pVycYe; WFEO3egt5x5C: if (!self::isError($filedata = $this->file2str($file))) { goto eUz9kQ22yduy; } goto VxID6kejEJ0u; XDwOSUbx_IGZ: $filename = $name; goto rZpwr6IyqPUh; F1QeoxtQ4t3h: $filedata = null; goto ibzrMtcwFzu_; qN90yeVSaIQx: $content_id = preg_replace("\57\133\136\60\55\x39\x61\55\x7a\101\x2d\x5a\x5d\57", '', uniqid(time(), true)); goto WFlaBENEjCQS; X7ekp3Gv05jH: if ($isfile) { goto dbAQldJNpg23; } goto d0zLK8o_9vDs; vaYaMnsi4QYg: if ($content_id) { goto yfJQbDdGdtC_; } goto qN90yeVSaIQx; SFDWuGCCQHNn: $bodyfile = null; goto X7ekp3Gv05jH; SZ1xBVC6828w: Bh5vRd2iNaDX: goto F1QeoxtQ4t3h; oSawcIDaLLqk: eUz9kQ22yduy: goto z1ldZC8fC3Kp; tN2OExMunLKn: } public function addAttachment($file, $c_type = "\x61\x70\x70\x6c\x69\x63\x61\164\x69\157\x6e\57\157\x63\x74\145\x74\55\163\x74\162\x65\141\x6d", $name = '', $isfile = true, $encoding = "\x62\x61\x73\145\66\64", $disposition = "\x61\164\164\x61\x63\x68\x6d\x65\x6e\164", $charset = '', $language = '', $location = '', $n_encoding = null, $f_encoding = null, $description = '', $h_charset = null, $add_headers = array()) { goto TaVPPO947SLH; MKtHS7Mt5hI3: $filedata = $file; goto bq4tOOahSKrX; yUn6cN_VKQq2: $filedata = null; goto gmBt3nxQ_3UN; QWmfGi0nNy8Q: $filename = $name ? $name : $this->basename($file); goto nFzg8ag_YSlm; HuID5MJKF_rH: Nv4XG5K5FNev: goto K3ZMx26om0Rn; tN75b0ElYKIn: $msg = "\124\150\x65\x20\x73\165\160\160\154\151\145\144\40\146\x69\154\145\x6e\141\x6d\x65\40\x66\x6f\x72\40\x74\150\145\40\x61\164\x74\x61\143\x68\155\x65\156\x74\x20\143\x61\156\47\164\40\142\x65\x20\x65\x6d\160\164\171"; goto H_WYhHiXqKNe; nFzg8ag_YSlm: RNDUfcVrncL4: goto OL21gtR2rN6R; WVWDWIQHTcVy: if (!self::isError($filedata = $this->file2str($file))) { goto Nv4XG5K5FNev; } goto RB8fJ0KCPyIZ; GAw9wGUp4yVw: xceCUVUx6HZz: goto YDbe81NdtoHX; lOs9Gq3lMo77: glsxWnTGBRFc: goto MvOykwu0vqET; VJlLIZUGG8IJ: t5jy026co3Cu: goto C89A5WUY61Uk; W01qF7MVs4Bf: return true; goto lOs9Gq3lMo77; K3ZMx26om0Rn: goto Zyxmi2odftSI; goto jrkBlmyP4yhK; MvOykwu0vqET: $bodyfile = null; goto Dlu71R6LWl0s; bq4tOOahSKrX: $filename = $name; goto jAVXh4a7mDvp; C89A5WUY61Uk: $this->parts[] = array("\x62\x6f\144\171" => $filedata, "\142\157\144\x79\137\146\x69\154\x65" => $bodyfile, "\156\141\155\145" => $filename, "\x63\x5f\x74\171\160\x65" => $c_type, "\x63\x68\x61\162\163\145\x74" => $charset, "\145\x6e\x63\x6f\x64\151\x6e\x67" => $encoding, "\x6c\x61\x6e\147\x75\141\x67\145" => $language, "\154\x6f\x63\141\x74\x69\157\x6e" => $location, "\144\x69\163\x70\x6f\x73\151\x74\x69\x6f\156" => $disposition, "\x64\x65\x73\x63\x72\151\x70\x74\151\157\156" => $description, "\x61\x64\x64\137\x68\x65\x61\x64\145\162\163" => $add_headers, "\156\141\155\x65\137\145\156\143\157\x64\x69\x6e\147" => $n_encoding, "\146\151\154\x65\156\x61\155\145\137\145\x6e\x63\157\144\151\156\147" => $f_encoding, "\x68\145\141\x64\145\162\163\137\x63\x68\141\162\x73\145\x74" => $h_charset); goto owbkxuGXECLs; wdrWMxm8ZuYY: Zyxmi2odftSI: goto QWmfGi0nNy8Q; YDbe81NdtoHX: if ($this->build_params["\x64\145\x6c\x61\171\x5f\x66\x69\154\x65\137\x69\157"]) { goto MiVMZ_2I01XY; } goto WVWDWIQHTcVy; jrkBlmyP4yhK: MiVMZ_2I01XY: goto yUn6cN_VKQq2; H_WYhHiXqKNe: return self::raiseError($msg); goto VJlLIZUGG8IJ; Dlu71R6LWl0s: if ($isfile) { goto xceCUVUx6HZz; } goto MKtHS7Mt5hI3; TaVPPO947SLH: if (!$file instanceof Mail_mimePart) { goto glsxWnTGBRFc; } goto elUDbVol_cQI; jAVXh4a7mDvp: goto RNDUfcVrncL4; goto GAw9wGUp4yVw; gmBt3nxQ_3UN: $bodyfile = $file; goto wdrWMxm8ZuYY; RB8fJ0KCPyIZ: return $filedata; goto HuID5MJKF_rH; elUDbVol_cQI: $this->parts[] = $file; goto W01qF7MVs4Bf; OL21gtR2rN6R: if (strlen($filename)) { goto t5jy026co3Cu; } goto tN75b0ElYKIn; owbkxuGXECLs: return true; goto jVKqFSHHZZoq; jVKqFSHHZZoq: } public function isMultipart() { return count($this->parts) > 0 || count($this->html_images) > 0 || strlen($this->htmlbody) > 0 && strlen($this->txtbody) > 0; } protected function file2str($file_name) { goto T40tO6pFc5Iu; pfpJ8nIHwAai: if (!isset($magic_quotes)) { goto R1KJTyLPlx5Y; } goto GHRenxLEnPJV; T40tO6pFc5Iu: if (file_exists($file_name)) { goto B8H47LGc5aQ3; } goto ezH98NPdvO1M; lST9bIerN2ml: $magic_quotes = @ini_set("\x6d\x61\147\x69\143\x5f\161\x75\157\164\145\163\x5f\x72\x75\156\x74\151\x6d\145", 0); goto n3E6_P1chLBI; u2HzdAeSXYQU: B8H47LGc5aQ3: goto PEz_fl3Bq3tR; aAHD1M5BLp4M: return self::raiseError("\x4e\157\164\40\x61\40\162\145\x67\x75\154\x61\162\x20\146\x69\x6c\145\x3a\x20" . $file_name); goto aZhbDjQ1JpLr; aZhbDjQ1JpLr: CjHoVSeQhXpf: goto AChLwgUZc5YP; PiN07E7j5zhH: hCtH8j8RvQP3: goto ilUmsG7xv3ZP; AChLwgUZc5YP: if (is_readable($file_name)) { goto hCtH8j8RvQP3; } goto Xe3jkzCVEw3i; vJ6yDLRS_AHU: R1KJTyLPlx5Y: goto oMeHw83GGzve; Y_AWPNx5yexi: $cont = file_get_contents($file_name); goto pfpJ8nIHwAai; ilUmsG7xv3ZP: if (!version_compare(PHP_VERSION, "\65\x2e\64\56\x30", "\74")) { goto jSWUiTqhA0rx; } goto lST9bIerN2ml; n3E6_P1chLBI: jSWUiTqhA0rx: goto Y_AWPNx5yexi; oMeHw83GGzve: return $cont; goto l0ZBdgWBZOeR; PEz_fl3Bq3tR: if (is_file($file_name)) { goto CjHoVSeQhXpf; } goto aAHD1M5BLp4M; GHRenxLEnPJV: @ini_set("\x6d\x61\x67\151\143\137\x71\165\x6f\164\145\x73\x5f\162\165\x6e\x74\151\155\145", $magic_quotes); goto vJ6yDLRS_AHU; ezH98NPdvO1M: return self::raiseError("\106\x69\154\145\40\156\x6f\164\x20\x66\157\x75\x6e\x64\x3a\x20" . $file_name); goto u2HzdAeSXYQU; Xe3jkzCVEw3i: return self::raiseError("\106\151\x6c\x65\x20\x69\x73\40\156\157\164\x20\162\145\141\x64\x61\142\154\x65\72\40" . $file_name); goto PiN07E7j5zhH; l0ZBdgWBZOeR: } protected function addTextPart($obj = null) { return $this->addBodyPart($obj, $this->txtbody, "\x74\x65\x78\164\57\x70\154\141\x69\x6e", "\x74\145\x78\164"); } protected function addHtmlPart($obj = null) { return $this->addBodyPart($obj, $this->htmlbody, "\x74\145\170\x74\57\x68\x74\155\x6c", "\150\164\x6d\154"); } protected function addCalendarPart($obj = null) { $ctype = "\164\x65\170\x74\x2f\x63\141\154\x65\x6e\144\x61\x72\x3b\40\x6d\x65\x74\x68\157\144\75" . $this->build_params["\x63\141\x6c\x65\156\144\141\x72\137\155\x65\164\x68\157\144"]; return $this->addBodyPart($obj, $this->calbody, $ctype, "\x63\141\154\145\x6e\144\x61\162"); } protected function addMixedPart($params = array()) { goto HbOFxs9SgpS_; HbOFxs9SgpS_: $params["\143\x6f\x6e\x74\145\156\x74\137\164\x79\160\145"] = "\x6d\165\154\164\x69\160\x61\162\164\x2f\x6d\x69\x78\145\x64"; goto WQYPSDrz9ndD; aQFGdjR8fB46: return new Mail_mimePart('', $params); goto RQ7vadj4fIf1; WQYPSDrz9ndD: $params["\x65\x6f\x6c"] = $this->build_params["\145\x6f\x6c"]; goto aQFGdjR8fB46; RQ7vadj4fIf1: } protected function addAlternativePart($obj = null) { goto N9LVLcu6QLZR; HZR2c39S1ekN: $ret = $obj->addSubpart('', $params); goto uuXu7_Tb5eJ4; uuXu7_Tb5eJ4: z4xBnc09yowj: goto PIaHGZ5BzY_B; rj6BDwHl0BWE: Afi9J0wVAmlW: goto HZR2c39S1ekN; vIPVvbfDAhXN: $params["\x65\157\154"] = $this->build_params["\145\x6f\154"]; goto aDF6JADzXNR2; N9LVLcu6QLZR: $params["\x63\157\x6e\164\x65\x6e\x74\x5f\x74\x79\x70\x65"] = "\x6d\165\154\164\x69\160\x61\x72\164\57\141\x6c\x74\x65\162\x6e\x61\164\151\x76\x65"; goto vIPVvbfDAhXN; PIaHGZ5BzY_B: return $ret; goto pGyIYg_lCfK4; Ya6u7tWWkUEC: goto z4xBnc09yowj; goto rj6BDwHl0BWE; aDF6JADzXNR2: if (is_object($obj)) { goto Afi9J0wVAmlW; } goto yGjvfWJcHHIE; yGjvfWJcHHIE: $ret = new Mail_mimePart('', $params); goto Ya6u7tWWkUEC; pGyIYg_lCfK4: } protected function addRelatedPart($obj = null) { goto C1nf0fJRUWQg; OOaetBR4lTuL: goto Xs3zsQmn6Mvg; goto XgcrSqwPmlFq; C1nf0fJRUWQg: $params["\x63\157\x6e\164\x65\x6e\x74\x5f\x74\x79\160\145"] = "\x6d\165\x6c\164\x69\x70\141\x72\x74\x2f\x72\145\x6c\141\164\145\144"; goto F8v3uUBta3W5; NtmnnaQkz80s: $ret = new Mail_mimePart('', $params); goto OOaetBR4lTuL; KE5T6veNExUq: if (is_object($obj)) { goto oE444BK8xjnE; } goto NtmnnaQkz80s; iwVW9Ur98T1M: return $ret; goto kxc5WLE2RCKV; F8v3uUBta3W5: $params["\x65\157\x6c"] = $this->build_params["\145\x6f\154"]; goto KE5T6veNExUq; VIOh7TYFLJ36: $ret = $obj->addSubpart('', $params); goto Iin_rw3GSA6h; Iin_rw3GSA6h: Xs3zsQmn6Mvg: goto iwVW9Ur98T1M; XgcrSqwPmlFq: oE444BK8xjnE: goto VIOh7TYFLJ36; kxc5WLE2RCKV: } protected function addHtmlImagePart($obj, $value) { goto lD0qPgLVMTRv; pqBJoyI5Q_Ac: if (empty($value["\146\151\154\145\156\141\x6d\x65\137\x65\156\x63\157\x64\x69\x6e\147"])) { goto jW6X9IB4EDcr; } goto ijJxQOA21iC8; JwXxsTYTYkmX: $params["\146\x69\x6c\x65\156\141\x6d\145"] = $value["\156\x61\x6d\x65"]; goto Rd1GC4h3wJot; BK7PuTUfMIJi: $params["\142\157\144\x79\137\146\151\x6c\x65"] = $value["\142\x6f\144\171\x5f\146\151\x6c\x65"]; goto KgoboahrXzHS; wxNdA6C6GBBY: return $obj->addSubpart($value["\142\157\x64\171"], $params); goto HOGe60gtS6Xo; EIxQ3Qm19mkD: if (empty($value["\x6e\x61\155\145\x5f\145\156\143\157\144\x69\156\147"])) { goto dal9cXoK1FbB; } goto NKGv_xt3Tr6A; dB6Qoz5pIq33: $params["\144\x69\x73\x70\157\163\151\x74\151\157\156"] = "\x69\156\154\x69\156\145"; goto JwXxsTYTYkmX; FuGpcwjNw2Qk: $params["\145\156\x63\x6f\144\x69\x6e\x67"] = "\x62\141\x73\x65\66\64"; goto dB6Qoz5pIq33; NKGv_xt3Tr6A: $params["\x6e\x61\155\145\x5f\145\x6e\x63\157\144\x69\x6e\147"] = $value["\156\141\x6d\x65\x5f\145\x6e\x63\x6f\x64\151\x6e\147"]; goto jh11sGrSka5W; lD0qPgLVMTRv: $params["\143\x6f\156\x74\x65\x6e\x74\x5f\x74\171\x70\145"] = $value["\x63\137\164\171\160\145"]; goto FuGpcwjNw2Qk; J6d4Eksa4T2Q: jW6X9IB4EDcr: goto wxNdA6C6GBBY; Rd1GC4h3wJot: $params["\143\x69\x64"] = $value["\x63\x69\x64"]; goto BK7PuTUfMIJi; KgoboahrXzHS: $params["\145\x6f\154"] = $this->build_params["\145\x6f\154"]; goto EIxQ3Qm19mkD; jh11sGrSka5W: dal9cXoK1FbB: goto pqBJoyI5Q_Ac; ijJxQOA21iC8: $params["\x66\x69\154\x65\156\141\155\x65\137\145\156\x63\x6f\x64\x69\x6e\x67"] = $value["\146\x69\x6c\x65\156\141\x6d\145\x5f\x65\x6e\143\x6f\x64\151\x6e\x67"]; goto J6d4Eksa4T2Q; HOGe60gtS6Xo: } protected function addAttachmentPart($obj, $value) { goto t194V1mnsCRI; WtebII9c_uCx: $params["\145\x6e\143\157\x64\x69\x6e\147"] = $value["\x65\x6e\143\x6f\144\151\156\147"]; goto x_6AV2uPcJoC; FBiJc7L3icOI: if (empty($value["\x64\145\x73\143\162\151\x70\164\151\x6f\x6e"])) { goto w0ElL8BTA3cM; } goto dHhQgcAT5IRZ; WPT7iW66segz: $params["\x6c\x6f\143\x61\x74\151\157\156"] = $value["\154\157\x63\x61\164\x69\157\156"]; goto hFkXd4T_tIrw; lnSxf0wwyhsd: return $obj->addSubpart($value["\x62\x6f\x64\171"], $params); goto etlOUbt1Jkuv; OoMbYKPCRnrZ: w0ElL8BTA3cM: goto PfEmoTCuRMft; trcp7LSpFpfB: BlfQbHWYRVgh: goto FBiJc7L3icOI; PfEmoTCuRMft: if (!is_array($value["\x61\x64\x64\137\x68\x65\141\x64\x65\162\x73"])) { goto pU4peGk87ntz; } goto W6DzdX_LZLIM; bdgQzSUyq1gw: $params["\x63\x68\x61\x72\x73\x65\164"] = $value["\x63\x68\x61\162\x73\x65\164"]; goto dkzmIgena_iN; SnNHIwGsm94o: $params["\x62\157\x64\171\x5f\146\x69\154\145"] = $value["\x62\x6f\144\171\137\146\x69\154\x65"]; goto m1aOy1RAUKl6; WkedXcAMd2Qm: if (empty($value["\156\x61\x6d\x65\x5f\x65\x6e\143\157\x64\x69\156\147"])) { goto QYOCaC8Y8g4D; } goto D9M4xQcH33V1; t194V1mnsCRI: if (!$value instanceof Mail_mimePart) { goto iFkUTHwhThgp; } goto aZ2PYKPY0ES1; AvRifcyz4Bac: pU4peGk87ntz: goto lnSxf0wwyhsd; wRyM0QMb74f3: if (empty($value["\x66\151\154\x65\x6e\x61\x6d\145\x5f\145\x6e\143\157\x64\x69\156\147"])) { goto BlfQbHWYRVgh; } goto iJf2jzftk5WD; hFkXd4T_tIrw: MgiP06So59CR: goto WkedXcAMd2Qm; CtU_8IRFQ_Ue: QYOCaC8Y8g4D: goto wRyM0QMb74f3; M0BfZssFmuKK: $params["\x66\x69\154\145\156\141\155\145"] = $value["\156\141\155\x65"]; goto WtebII9c_uCx; dHhQgcAT5IRZ: $params["\x64\145\163\143\x72\x69\x70\164\x69\157\156"] = $value["\x64\x65\163\143\162\x69\x70\x74\151\157\156"]; goto OoMbYKPCRnrZ; kjPL1cauu_s1: if (empty($value["\143\x68\x61\162\163\x65\x74"])) { goto RW3b2IVu22L3; } goto bdgQzSUyq1gw; bRAskSzT_1qF: if (empty($value["\150\x65\x61\x64\145\x72\163\x5f\143\x68\x61\x72\163\x65\x74"])) { goto Xe3gJcu3cbn5; } goto nCSaLM1gBE5F; dkzmIgena_iN: RW3b2IVu22L3: goto bRAskSzT_1qF; c_MP4LzvBCfo: iFkUTHwhThgp: goto vvp7iW21GFNk; vvp7iW21GFNk: $params["\145\x6f\154"] = $this->build_params["\145\x6f\x6c"]; goto M0BfZssFmuKK; X9peX90jjvrv: Xe3gJcu3cbn5: goto jtbDKAqqmiIe; x_6AV2uPcJoC: $params["\x63\157\156\x74\145\156\164\x5f\x74\171\x70\x65"] = $value["\143\137\x74\171\x70\145"]; goto SnNHIwGsm94o; ogAGa7EH3qdM: if (empty($value["\x6c\x6f\x63\141\x74\151\x6f\x6e"])) { goto MgiP06So59CR; } goto WPT7iW66segz; KjbG4t2lXm7C: HvpEXR0IpMat: goto ogAGa7EH3qdM; DNDU6SQHqW4f: $params["\154\x61\156\x67\165\141\147\145"] = $value["\154\141\x6e\147\165\141\147\x65"]; goto KjbG4t2lXm7C; m1aOy1RAUKl6: $params["\144\151\163\x70\x6f\x73\151\164\x69\x6f\156"] = isset($value["\x64\x69\x73\160\157\163\151\164\151\157\156"]) ? $value["\144\x69\x73\x70\x6f\163\151\164\x69\x6f\x6e"] : "\141\x74\x74\141\x63\150\x6d\145\x6e\x74"; goto kjPL1cauu_s1; aZ2PYKPY0ES1: return $obj->addSubpart($value); goto c_MP4LzvBCfo; jtbDKAqqmiIe: if (empty($value["\154\141\x6e\147\165\141\147\x65"])) { goto HvpEXR0IpMat; } goto DNDU6SQHqW4f; iJf2jzftk5WD: $params["\146\x69\x6c\x65\156\x61\155\145\137\145\156\143\157\x64\x69\x6e\x67"] = $value["\146\151\x6c\x65\x6e\x61\x6d\145\x5f\145\x6e\143\157\x64\x69\x6e\x67"]; goto trcp7LSpFpfB; nCSaLM1gBE5F: $params["\x68\x65\x61\x64\145\x72\163\x5f\143\150\x61\162\163\x65\x74"] = $value["\150\145\x61\144\x65\162\x73\137\143\x68\141\x72\x73\145\164"]; goto X9peX90jjvrv; W6DzdX_LZLIM: $params["\x68\x65\x61\x64\145\x72\163"] = $value["\141\144\144\x5f\x68\x65\x61\x64\x65\162\x73"]; goto AvRifcyz4Bac; D9M4xQcH33V1: $params["\156\x61\x6d\145\137\x65\x6e\143\157\x64\x69\x6e\147"] = $value["\x6e\141\155\x65\137\x65\156\x63\157\144\151\x6e\147"]; goto CtU_8IRFQ_Ue; etlOUbt1Jkuv: } public function getMessage($separation = null, $params = null, $headers = null, $overwrite = false) { goto jdxlgEYCbFfq; jdPaezV2Bf8q: return $body; goto Dw7xQTmwvhnj; cTIClqTSb82T: $separation = $this->build_params["\145\157\x6c"]; goto z6GOSiFxhoWD; Dw7xQTmwvhnj: RvT4Jg1ZC6FR: goto pBAF4HuSY18G; I_PkOG0shRrr: if (!self::isError($body)) { goto RvT4Jg1ZC6FR; } goto jdPaezV2Bf8q; z6GOSiFxhoWD: VPxk9tOoNtf8: goto MEOyO4cALQkR; pBAF4HuSY18G: return $this->txtHeaders($headers, $overwrite) . $separation . $body; goto KuGrVGu68ttN; MEOyO4cALQkR: $body = $this->get($params); goto I_PkOG0shRrr; jdxlgEYCbFfq: if (!($separation === null)) { goto VPxk9tOoNtf8; } goto cTIClqTSb82T; KuGrVGu68ttN: } public function getMessageBody($params = null) { return $this->get($params, null, true); } public function saveMessage($filename, $params = null, $headers = null, $overwrite = false) { goto OaJaVW5NY6ej; q2iacYDDRkWK: $magic_quotes = @ini_set("\155\141\147\x69\x63\x5f\x71\x75\157\x74\145\x73\137\162\x75\156\x74\x69\x6d\x65", 0); goto IU5sagfs0e1i; v2T03QJzo4uo: if ($fh = fopen($filename, "\141\x62")) { goto KGtUXXx11OSz; } goto ZwFcJEVdyzrF; t3qFPKzBw28a: GduiiHMTOpZr: goto isaJ3HOFEvl7; GDD8AJafYOgd: SHxvtLvzD0zw: goto Kr7vINi5fv5j; isaJ3HOFEvl7: if (!version_compare(PHP_VERSION, "\x35\56\x34\x2e\x30", "\74")) { goto AAsFkCS94Lqr; } goto q2iacYDDRkWK; lJBqjIx8E19N: return $res ? $res : true; goto Zkxh3FVOB6jN; ZwFcJEVdyzrF: return self::raiseError("\125\x6e\141\x62\154\x65\x20\x74\157\40\157\160\145\156\40\146\x69\x6c\145\72\40" . $filename); goto ktEHIIHngEYY; sOd2KNF06m3x: $res = $this->get($params, $filename); goto lJBqjIx8E19N; ktEHIIHngEYY: KGtUXXx11OSz: goto FDfAXAkPyqwH; Kr7vINi5fv5j: fclose($fh); goto SfsrB391lMC_; IU5sagfs0e1i: AAsFkCS94Lqr: goto v2T03QJzo4uo; c6IvprycjR0k: bJHCIn2jgEUx: goto sOd2KNF06m3x; KsQp0yuhZaYG: if (!(fwrite($fh, $head) === false)) { goto SHxvtLvzD0zw; } goto LVjdM2PxuBtB; LVjdM2PxuBtB: return self::raiseError("\105\162\x72\157\x72\40\x77\x72\x69\x74\x69\156\x67\x20\x74\157\x20\146\151\x6c\145\72\x20" . $filename); goto GDD8AJafYOgd; FDfAXAkPyqwH: $head = $this->txtHeaders($headers, $overwrite, true); goto KsQp0yuhZaYG; K_uqw9zLYmL4: return self::raiseError("\x46\151\154\145\40\151\163\x20\x6e\x6f\164\x20\x77\x72\x69\164\x61\142\x6c\145\72\40" . $filename); goto t3qFPKzBw28a; OaJaVW5NY6ej: if (!(file_exists($filename) && !is_writable($filename))) { goto GduiiHMTOpZr; } goto K_uqw9zLYmL4; ZOOYnutXUXfI: @ini_set("\155\141\x67\x69\x63\137\161\165\x6f\164\x65\x73\137\x72\165\x6e\x74\151\x6d\x65", $magic_quotes); goto c6IvprycjR0k; SfsrB391lMC_: if (!isset($magic_quotes)) { goto bJHCIn2jgEUx; } goto ZOOYnutXUXfI; Zkxh3FVOB6jN: } public function saveMessageBody($filename, $params = null) { goto OkKCr2b9hp4E; qxYsQbnzAw_U: goto OY3MXYGP8C3s; goto bm26nRPcTL46; SU5kQbozAVCX: NowyQiQ1Qp0R: goto h1B1jvRw7ZOS; rbnqU3VkxLWI: fclose($fh); goto O8ELSs2i4bbh; O8ELSs2i4bbh: h22DvbJt299o: goto dXZxfI8CjD_V; Y8rwU5dI1jYw: if (!(!file_exists($filename) || !is_writable($filename))) { goto NowyQiQ1Qp0R; } goto wb5D3mKggR0y; yAbo6qFoJelC: return $res ? $res : true; goto UHLLIHWagvq1; it8aHhW2iLnR: OY3MXYGP8C3s: goto BvXgjuPQvAGo; BvXgjuPQvAGo: if (!version_compare(PHP_VERSION, "\65\56\64\x2e\60", "\74")) { goto ZZT1aOB792jV; } goto k9TtOkG1lt0k; bm26nRPcTL46: FWiqAIz1jG0t: goto Y8rwU5dI1jYw; OkKCr2b9hp4E: if (!is_resource($filename)) { goto FWiqAIz1jG0t; } goto QFltg0wBtvsW; k9TtOkG1lt0k: $magic_quotes = @ini_set("\x6d\141\147\x69\x63\137\x71\x75\157\164\x65\x73\137\162\x75\156\x74\151\x6d\145", 0); goto d6mvG2WpdcM3; GBU2OBt5GnLi: VnIF__l53kLT: goto yAbo6qFoJelC; YnyDCvJDr7f4: @ini_set("\x6d\x61\147\x69\x63\x5f\161\x75\157\164\145\163\137\162\x75\x6e\x74\x69\x6d\x65", $magic_quotes); goto GBU2OBt5GnLi; QFltg0wBtvsW: $fh = $filename; goto qxYsQbnzAw_U; wb5D3mKggR0y: return self::raiseError("\106\151\x6c\145\x20\x69\x73\40\156\x6f\x74\x20\x77\162\151\164\141\142\154\145\x3a\40" . $filename); goto SU5kQbozAVCX; d6mvG2WpdcM3: ZZT1aOB792jV: goto WTCu6Oxe53gG; dXZxfI8CjD_V: if (!isset($magic_quotes)) { goto VnIF__l53kLT; } goto YnyDCvJDr7f4; uX7ZNS16EBjb: if (is_resource($filename)) { goto h22DvbJt299o; } goto rbnqU3VkxLWI; TCbGZm9WqF5i: Yc4vZm7EKrwa: goto it8aHhW2iLnR; h1B1jvRw7ZOS: if ($fh = fopen($filename, "\x61\x62")) { goto Yc4vZm7EKrwa; } goto ScHJx8uwu6QT; ScHJx8uwu6QT: return self::raiseError("\x55\x6e\x61\142\x6c\x65\40\x74\157\40\157\160\145\156\x20\146\151\154\x65\x3a\40" . $filename); goto TCbGZm9WqF5i; WTCu6Oxe53gG: $res = $this->get($params, $fh, true); goto uX7ZNS16EBjb; UHLLIHWagvq1: } public function get($params = null, $filename = null, $skip_head = false) { goto xt1gpbS6DknN; zkLTNkGPFT_1: if (preg_match("\43\x28\100\133\x30\55\x39\x61\55\172\x41\55\x5a\x5c\55\x5c\x2e\x5d\53\51\x23", $this->headers["\x46\x72\x6f\155"], $matches)) { goto Hu4Js4lxPOUz; } goto UzRUYzq2h5xR; RUA_5HfqatWh: goto FxSweQDPtQvL; goto qbYE52PFT93U; nfwqeF1CdAfM: if (!empty($this->build_params["\x62\157\165\x6e\x64\x61\162\171"])) { goto FFrpSY1LZjdQ; } goto L3n0dqGTmElC; Z4uX_HGyPUl5: $this->headers = array_merge($this->headers, $output["\150\145\x61\x64\x65\x72\x73"]); goto RUA_5HfqatWh; Ccd5J8FpQU5x: return $headers; goto eFmyjghflokE; zb3X4_ksT2_1: if (!(empty($boundary) && !empty($this->headers["\x43\157\x6e\164\145\156\x74\55\x54\171\160\x65"]))) { goto Ue_WvKpGXi4L; } goto oMmswZqrIBSW; fju0Oonc83eI: if ($filename) { goto N2JE63oRWA7H; } goto BQdttu1uaFOx; eFmyjghflokE: Qmc20PHR_wDN: goto EgHuFMTiXN33; EgHuFMTiXN33: $this->headers = array_merge($this->headers, $headers); goto lHoWt8LFvHgZ; nqgupqXMaPQV: $boundary = $this->build_params["\x62\x6f\165\x6e\144\141\162\171"]; goto cYwmGIG5qFrw; mu7wj3zPktEb: Pt8EmyW1n804: goto tU8EX9F8fjhu; BOiuHbWDCtEy: if (!self::isError($output)) { goto dL3ni8niWIUT; } goto TtuwmcB4eB8y; tU8EX9F8fjhu: Ue_WvKpGXi4L: goto aNBsWYoSuHUv; UzRUYzq2h5xR: $domainID = "\100\x6c\x6f\143\x61\154\150\157\x73\164"; goto ZwsSaPr6Pns_; LSLakgbb3PvT: goto sNnVbn1V6fd0; goto WadFJ75xG00L; HVPhRCxrM6WF: foreach ($this->html_images as $i => $img) { goto JLz_2XdKtn50; JLz_2XdKtn50: $cid = $this->html_images[$i]["\143\x69\144"]; goto J21tWoV8_eZ6; KccXTRYmnrrD: qsHY5qFtIw4z: goto LtU9JomjyrMK; s8oGxmLqkyPj: $this->html_images[$i]["\143\x69\144"] = $cid . $domainID; goto KccXTRYmnrrD; J21tWoV8_eZ6: if (preg_match("\x23" . preg_quote($domainID) . "\44\43", $cid)) { goto qsHY5qFtIw4z; } goto s8oGxmLqkyPj; LtU9JomjyrMK: N6WWC0dggI3v: goto qZ6VaecUz1Kp; qZ6VaecUz1Kp: } goto z6a6Uazpm140; cOCnM3RbkO1C: if (!self::isError($headers)) { goto Qmc20PHR_wDN; } goto Ccd5J8FpQU5x; TsNmwPdlDYoz: $this->build_params = array_merge($this->build_params, $params); goto Lv8caQeKVfjK; BRJ0AzisejE_: arXP2C2mTsf2: goto nfwqeF1CdAfM; TtuwmcB4eB8y: return $output; goto ZAbDlnzUkKmY; j8KToVOqeiwE: AVOlOeLjPlfw: goto xZ6Hq6OsbYbi; aNBsWYoSuHUv: return $filename ? null : $output["\142\x6f\144\171"]; goto ZGMRVktv_Xio; L0mKjSplum02: $message = $this->buildBodyPart(); goto RX2f3yqTEPf2; qbYE52PFT93U: N2JE63oRWA7H: goto cpc5QIZpa7oa; WAA3qPQaLuG0: Hu4Js4lxPOUz: goto o2KaCAL4ac6W; lHoWt8LFvHgZ: FxSweQDPtQvL: goto zb3X4_ksT2_1; kRQTFnecv06c: if (!(count($this->html_images) && isset($this->htmlbody))) { goto AVOlOeLjPlfw; } goto PrqGjLBohzbe; o2KaCAL4ac6W: $domainID = $matches[1]; goto RFzLkVcMcufH; cYwmGIG5qFrw: sNnVbn1V6fd0: goto fju0Oonc83eI; L3n0dqGTmElC: $boundary = null; goto LSLakgbb3PvT; xZ6Hq6OsbYbi: $this->checkParams(); goto L0mKjSplum02; EDJrvW1yohsi: return null; goto BRJ0AzisejE_; cpc5QIZpa7oa: $headers = $message->encodeToFile($filename, $boundary, $skip_head); goto cOCnM3RbkO1C; WadFJ75xG00L: FFrpSY1LZjdQ: goto nqgupqXMaPQV; XmBg8BIP9Rue: lPLvLmVBfW8c: goto kRQTFnecv06c; RFzLkVcMcufH: wwYr5CuY93Fz: goto HVPhRCxrM6WF; ZwsSaPr6Pns_: goto wwYr5CuY93Fz; goto WAA3qPQaLuG0; niPrglunLGFe: $this->build_params["\x62\x6f\x75\156\144\141\x72\171"] = $m[1]; goto mu7wj3zPktEb; z6a6Uazpm140: c6VXlR3AeemF: goto XmBg8BIP9Rue; YN6IRh8LuNFk: if (!isset($this->headers["\x46\162\157\155"])) { goto lPLvLmVBfW8c; } goto zkLTNkGPFT_1; xt1gpbS6DknN: if (!(!empty($params) && is_array($params))) { goto bKP8C3YXnBbn; } goto TsNmwPdlDYoz; BQdttu1uaFOx: $output = $message->encode($boundary, $skip_head); goto BOiuHbWDCtEy; PrqGjLBohzbe: foreach ($this->html_images as $key => $value) { goto DWZrtZlYiJHU; cq8i3K6KbsmT: ggFbMQOroZiM: goto kKMRbhnWdeds; DWZrtZlYiJHU: $rval = preg_quote($value["\x6e\141\155\145"], "\43"); goto gLmJGNOe0Ce4; d_sJ57ORO_va: $this->htmlbody = preg_replace($regex, $rep, $this->htmlbody); goto iRr8qZMMmYky; gLmJGNOe0Ce4: $regex = array("\x23\50\x5c\x73\x29\x28\x28\77\151\x29\163\162\143\174\x62\x61\143\153\147\x72\x6f\165\x6e\144\174\150\162\x65\146\x28\x3f\x2d\151\51\51\134\163\52\x3d\134\163\x2a\x28\x5b\x22\47\x5d\77\x29" . $rval . "\x5c\63\x23", "\x23\x28\77\151\51\x75\162\x6c\50\x3f\55\x69\x29\x5c\x28\x5c\163\x2a\x28\133\x22\x27\x5d\x3f\51" . $rval . "\x5c\x31\134\163\52\x5c\51\x23"); goto YAC4nswko0JJ; iRr8qZMMmYky: $this->html_images[$key]["\x6e\x61\x6d\x65"] = $this->basename($this->html_images[$key]["\156\x61\155\145"]); goto cq8i3K6KbsmT; YAC4nswko0JJ: $rep = array("\x5c\x31\x5c\x32\x3d\134\63\143\151\x64\x3a" . $value["\143\x69\144"] . "\134\x33", "\165\x72\154\50\134\x31\x63\x69\x64\x3a" . $value["\143\151\x64"] . "\134\x31\51"); goto d_sJ57ORO_va; kKMRbhnWdeds: } goto p1marE8AHYsV; oMmswZqrIBSW: if (!preg_match("\x2f\x62\x6f\x75\x6e\x64\141\162\171\x3d\x22\x28\133\136\x22\135\53\51\57", $this->headers["\103\157\156\164\145\x6e\164\55\x54\171\x70\x65"], $m)) { goto Pt8EmyW1n804; } goto niPrglunLGFe; p1marE8AHYsV: UIoWtgEmbVLn: goto j8KToVOqeiwE; Lv8caQeKVfjK: bKP8C3YXnBbn: goto YN6IRh8LuNFk; RX2f3yqTEPf2: if (isset($message)) { goto arXP2C2mTsf2; } goto EDJrvW1yohsi; ZAbDlnzUkKmY: dL3ni8niWIUT: goto Z4uX_HGyPUl5; ZGMRVktv_Xio: } protected function buildBodyPart() { goto Pk0s92GoiAjC; po6BGG5EV6nk: $mixed_params = array("\x70\x72\x65\x61\155\142\x6c\x65" => $this->build_params["\x70\162\x65\x61\x6d\142\x6c\145"]); goto JEqQ729Yibqs; A46Ja9hBkesL: MpS43eEVnquk: goto H2jyGCgpkt72; krYYfkM89Yk2: return $message; goto xG5gkRMQNZuJ; cy1RksZkctda: r3SlQBz6tBSn: goto MECTX9dwOL6T; h16KZG51c0DS: if (!($i < $parts_count)) { goto r3SlQBz6tBSn; } goto fUx6IaPGa22p; Pk0s92GoiAjC: $parts_count = count($this->parts); goto po6BGG5EV6nk; STnF7o9rQhgz: w8bihgKPV2BR: goto h16KZG51c0DS; JEqQ729Yibqs: $message = null; goto ZnsBNSrr69_X; SljgYpI67riZ: $i = 0; goto STnF7o9rQhgz; H2jyGCgpkt72: $i++; goto m4M0LfuUKKB3; DMFY214qq1cb: W9Pl70WqehG3: goto rf_NnGLV36F6; iprOClqDITPL: $message = $this->buildAlternativeParts(null, $mixed_params); goto jshGg6kBgQDM; rf_NnGLV36F6: $message = $this->addMixedPart($mixed_params); goto GhR9Q29_U7ps; MECTX9dwOL6T: jmo023X1Mwbj: goto krYYfkM89Yk2; jshGg6kBgQDM: goto jmo023X1Mwbj; goto DMFY214qq1cb; fUx6IaPGa22p: $this->addAttachmentPart($message, $this->parts[$i]); goto A46Ja9hBkesL; m4M0LfuUKKB3: goto w8bihgKPV2BR; goto cy1RksZkctda; GhR9Q29_U7ps: $this->buildAlternativeParts($message, null); goto SljgYpI67riZ; ZnsBNSrr69_X: if ($parts_count > 0) { goto W9Pl70WqehG3; } goto iprOClqDITPL; xG5gkRMQNZuJ: } protected function buildAlternativeParts($parent_part, $mixed_params = null) { goto Fmss1Pbpj0J8; FixlfiKXMmlz: $dest_part = $alt_part ? $alt_part : $parent_part; goto a2apVnTrDQLV; QZ3Lx7Zsd6eg: $alt_part = $this->addAlternativePart($parent_part ? $parent_part : $mixed_params); goto LczuIfy33bNZ; gC_Tc1cKs4We: $part = $this->addTextPart($dest_part); goto rnn4qyI7eIPw; fvlxOyeqjIuB: XgeeqllkFIBl: goto M8sUa3Byj1CS; a2apVnTrDQLV: $part = null; goto LLjO4_Y1I3sm; rnn4qyI7eIPw: kV69lmdilvOF: goto gR_I88TGY5o7; M8sUa3Byj1CS: return $dest_part ? $dest_part : $part; goto HABT15kC49bL; gR_I88TGY5o7: if (!$html) { goto wv4t0jdoMKO2; } goto UgDrzOEyvLgp; kuoHCgZWtQ_3: $calendar = strlen($this->calbody) > 0; goto jOw5CXO9SgiD; X9byvdk5QccU: goto gZGUNdJ3UYmg; goto sqEjFn9hKSwe; LczuIfy33bNZ: gZGUNdJ3UYmg: goto FixlfiKXMmlz; ow5mGnRudaHS: $alt_part = null; goto X9byvdk5QccU; vGDE5I2CfoXu: if ($alternatives_count > 1) { goto KDflFoNlNHkr; } goto ow5mGnRudaHS; Fmss1Pbpj0J8: $html = strlen($this->htmlbody) > 0; goto kuoHCgZWtQ_3; sqEjFn9hKSwe: KDflFoNlNHkr: goto QZ3Lx7Zsd6eg; GYqOhrRbHe_k: wv4t0jdoMKO2: goto bWvwZR_ubajP; LLjO4_Y1I3sm: if (!$has_text) { goto kV69lmdilvOF; } goto gC_Tc1cKs4We; jOw5CXO9SgiD: $has_text = strlen($this->txtbody) > 0; goto e3PR1gfYv1mF; e3PR1gfYv1mF: $alternatives_count = $html + $calendar + $has_text; goto vGDE5I2CfoXu; bWvwZR_ubajP: if (!$calendar) { goto XgeeqllkFIBl; } goto HmfEsn6qok7d; HmfEsn6qok7d: $part = $this->addCalendarPart($dest_part); goto fvlxOyeqjIuB; UgDrzOEyvLgp: $part = $this->buildHtmlParts($dest_part); goto GYqOhrRbHe_k; HABT15kC49bL: } protected function buildHtmlParts($parent_part) { goto KufsyawAbusR; R3B023Cv_6_3: $part = $this->addRelatedPart($parent_part); goto GHB7E7NKw_q5; sximBjBGbzja: $part = $this->addHtmlPart($parent_part); goto Nm3rEo42VNCC; GHB7E7NKw_q5: $this->addHtmlPart($part); goto bxqSpI5QBeCM; pkwaIkou1kxL: Oez8Dpn7HM0T: goto R3B023Cv_6_3; Nm3rEo42VNCC: goto nDU0Q6cB2o6O; goto pkwaIkou1kxL; xUcQU6KXLfLT: if ($count_html_images > 0) { goto Oez8Dpn7HM0T; } goto sximBjBGbzja; AiQlW97z_G8x: return $part; goto LyGmQC2Xteun; HIl_KOiazKM5: $i = 0; goto nPlCwXFgVwTk; bCByhw9hV8uo: return null; goto JGLI_lJvJGU3; EImpyQ77hPZL: $i++; goto InwM7giX8t05; KufsyawAbusR: if (strlen($this->htmlbody)) { goto xTOQj_VsUdye; } goto bCByhw9hV8uo; U_SCvzpEofN2: $this->addHtmlImagePart($part, $this->html_images[$i]); goto hMbiIkREV0Z0; bxqSpI5QBeCM: nDU0Q6cB2o6O: goto HIl_KOiazKM5; hMbiIkREV0Z0: KcUQGucFPQ90: goto EImpyQ77hPZL; Uf9Txuz4jsLN: owfSDwUjuTYo: goto AiQlW97z_G8x; nPlCwXFgVwTk: n3_9k3jqUfT5: goto Z3cmTzDDDEQT; JGLI_lJvJGU3: xTOQj_VsUdye: goto jKfc7Ge5uw7q; jKfc7Ge5uw7q: $count_html_images = count($this->html_images); goto xUcQU6KXLfLT; InwM7giX8t05: goto n3_9k3jqUfT5; goto Uf9Txuz4jsLN; Z3cmTzDDDEQT: if (!($i < $count_html_images)) { goto owfSDwUjuTYo; } goto U_SCvzpEofN2; LyGmQC2Xteun: } public function headers($xtra_headers = null, $overwrite = false, $skip_content = false) { goto b0st930xNDg4; RyYygWTLFXvt: unset($this->headers["\x43\x6f\156\164\145\x6e\x74\x2d\x44\151\x73\160\x6f\x73\x69\164\x69\157\x6e"]); goto S2qPJGkzW9kb; c7oKl0lrCiiU: QTPmXXfGatuZ: goto C2JWEDW6pu9Y; C2JWEDW6pu9Y: unset($this->headers["\103\x6f\156\x74\x65\156\x74\55\124\x79\x70\145"]); goto ZP1B__pHF0gS; Sv6YU5z1NWNf: if ($skip_content) { goto n50I4gAT3fU9; } goto ElL9prjIpbpJ; ePv5JoQ229w3: F7cCSzkKI9lW: goto cetZF2PB3ip0; Z6qQiP4eqU0S: goto QTPmXXfGatuZ; goto ePv5JoQ229w3; ElL9prjIpbpJ: if (empty($this->build_params["\x63\164\x79\160\145"])) { goto OgytEgw6QRT1; } goto rZEtKw95tq8z; orwbaEtI25t7: $this->headers = array_merge($headers, $this->headers); goto Z6qQiP4eqU0S; cetZF2PB3ip0: $this->headers = array_merge($this->headers, $headers); goto c7oKl0lrCiiU; Pp35h3kJPmm1: ZlEjXysaKRXt: goto XdJQGOhZp4ga; ZP1B__pHF0gS: unset($this->headers["\x43\x6f\156\164\145\156\x74\x2d\x54\162\x61\156\x73\146\x65\162\x2d\x45\x6e\x63\x6f\144\x69\x6e\147"]); goto RyYygWTLFXvt; aRtVyeb1M481: unset($headers["\103\157\156\x74\145\x6e\x74\x2d\124\171\160\145"]); goto noZ8kMvfmsxZ; cH8GEetE5_1W: return $this->encodeHeaders($headers); goto BznnwT7vZFH0; fCR3Rn76X5nV: goto D_rIVLNJp6eF; goto RIwqlJMOfaoQ; b0st930xNDg4: $headers["\x4d\x49\x4d\x45\x2d\126\x65\162\163\x69\157\x6e"] = "\x31\56\60"; goto USokyWmid99y; RIwqlJMOfaoQ: n50I4gAT3fU9: goto aRtVyeb1M481; S2qPJGkzW9kb: $this->headers = array_merge($this->headers, $this->contentHeaders()); goto hiALZNAIjdxC; Wru1N7ZYzCO3: $headers = array_merge($headers, $xtra_headers); goto Pp35h3kJPmm1; USokyWmid99y: if (empty($xtra_headers)) { goto ZlEjXysaKRXt; } goto Wru1N7ZYzCO3; hiALZNAIjdxC: $headers = $this->headers; goto Sv6YU5z1NWNf; ue28LtONljFP: OgytEgw6QRT1: goto fCR3Rn76X5nV; GvEDPmsMxJ_U: unset($headers["\x43\157\x6e\x74\x65\x6e\164\x2d\x44\x69\163\160\x6f\x73\151\x74\x69\x6f\x6e"]); goto jQ4ArRzjtZ0R; noZ8kMvfmsxZ: unset($headers["\x43\x6f\156\164\x65\156\164\x2d\x54\162\141\156\x73\x66\x65\x72\x2d\x45\x6e\143\x6f\x64\x69\156\147"]); goto GvEDPmsMxJ_U; XdJQGOhZp4ga: if ($overwrite) { goto F7cCSzkKI9lW; } goto orwbaEtI25t7; rZEtKw95tq8z: $headers["\x43\157\156\x74\145\156\x74\55\x54\x79\x70\145"] = $this->build_params["\x63\164\x79\x70\x65"]; goto ue28LtONljFP; jQ4ArRzjtZ0R: D_rIVLNJp6eF: goto cH8GEetE5_1W; BznnwT7vZFH0: } public function txtHeaders($xtra_headers = null, $overwrite = false, $skip_content = false) { goto wNhLRA30EM6P; SBUOgKuaoZYk: return $ret; goto d3dDDqgWSm58; gcllKxYdkR_i: foreach ($headers as $key => $val) { goto pwksFOmWDXrr; ZKvJiITMySBs: foreach ($val as $value) { $ret .= "{$key}\x3a\x20{$value}" . $eol; K9t8j3kBb5n1: } goto jEpPjSvF2ajR; pwksFOmWDXrr: if (is_array($val)) { goto CJ8ukwZqjpIC; } goto Fj2IZLW13ab3; jEpPjSvF2ajR: pWcYt5OqJEnR: goto OqkLNqM8dJeZ; OqkLNqM8dJeZ: uTyYS01nbvkw: goto GqLQQmML24lp; GqLQQmML24lp: KsvRVdQQtccO: goto XxsGt6wtW44J; T9KTcUAeEZPJ: goto uTyYS01nbvkw; goto ncjYoQ0M3yKS; ncjYoQ0M3yKS: CJ8ukwZqjpIC: goto ZKvJiITMySBs; Fj2IZLW13ab3: $ret .= "{$key}\72\x20{$val}" . $eol; goto T9KTcUAeEZPJ; XxsGt6wtW44J: } goto PL4oncZttQyE; xfzwiSJ20oCv: $eol = $this->build_params["\x65\x6f\154"]; goto gcllKxYdkR_i; PL4oncZttQyE: gBQA0lSW_Tqj: goto SBUOgKuaoZYk; DUEVsjN0phSt: $received = $headers["\x52\x65\x63\x65\151\166\145\x64"]; goto wO6GJNijD7Yc; ZG5G9LxEsJd0: $headers = array("\x52\145\x63\145\151\166\145\x64" => $received) + $headers; goto nHhDIjk2O_oc; MEPQrjYSbOrH: $ret = ''; goto xfzwiSJ20oCv; I6l5iQ9J9xGC: if (!isset($headers["\122\145\x63\x65\x69\x76\145\144"])) { goto v_Pz56dL2A3k; } goto DUEVsjN0phSt; wNhLRA30EM6P: $headers = $this->headers($xtra_headers, $overwrite, $skip_content); goto I6l5iQ9J9xGC; wO6GJNijD7Yc: unset($headers["\x52\145\x63\x65\x69\166\x65\144"]); goto ZG5G9LxEsJd0; nHhDIjk2O_oc: v_Pz56dL2A3k: goto MEPQrjYSbOrH; d3dDDqgWSm58: } public function setContentType($type, $params = array()) { goto nl46kmvFYAay; kEyTzaggp0a9: $eol = !empty($this->build_params["\x65\157\154"]) ? $this->build_params["\145\157\x6c"] : "\xd\xa"; goto aFvic705R9bQ; X_ti98CWUeh4: $this->build_params["\x62\x6f\x75\156\144\x61\162\x79"] = "\75\x5f" . md5(rand() . microtime()); goto af18TStQ6x2P; vjvLWH8LlPiY: if (!empty($this->build_params["\142\157\x75\156\x64\141\x72\171"])) { goto Y1Ue33PnqxV0; } goto X_ti98CWUeh4; nl46kmvFYAay: $header = $type; goto kEyTzaggp0a9; af18TStQ6x2P: Y1Ue33PnqxV0: goto r7bss8ADzCi4; aFvic705R9bQ: $token_regexp = "\x23\x28\x5b\x5e\134\x78\62\x31\134\170\62\x33\55\134\170\62\x37\134\170\62\101\x5c\170\62\x42\x5c\x78\62\x44\x5c\170\x32\105\134\170\x33\60\55\134\170\x33\x39\x5c\x78\64\61\x2d\x5c\x78\x35\x41\134\170\x35\x45\x2d\x5c\170\67\105\135\51\43"; goto PClyc8C1ak_C; AF0dTOsXyDxO: PocOokpWxzj0: goto RlL4Aigw9kyd; r7bss8ADzCi4: $header .= "\x3b{$eol}\x20\x62\x6f\165\156\144\141\162\171\75\42" . $this->build_params["\x62\x6f\165\x6e\x64\141\x72\171"] . "\42"; goto keLvu2LVMacV; Dt21G89v1r6L: $this->build_params["\x63\164\x79\160\145"] = $header; goto N8faeIjnvtha; keLvu2LVMacV: OysuNYvjZ1uz: goto Dt21G89v1r6L; PClyc8C1ak_C: if (!is_array($params)) { goto yUDFW0Lh5LCn; } goto pEbUNOYcWNFm; pEbUNOYcWNFm: foreach ($params as $name => $value) { goto U6dWEwlOTaBl; Mt2naas4VLVd: xY1ky5LGkAd9: goto CJnkIWb0r28d; SV2jeRjLOBgm: q8Tc7aNJ9CaV: goto oZRHQwLhkQ16; krnbcIJxfEIb: TdT3Rf6G5kML: goto UmWsesSaUa_O; W7zFjCOj6y1R: goto q8Tc7aNJ9CaV; goto Mt2naas4VLVd; GfyhjyFwaQFX: d0r3hJ8tJfWl: goto fUZyLvCpM1Js; fUZyLvCpM1Js: $this->build_params["\142\x6f\165\156\x64\x61\162\171"] = $value; goto krnbcIJxfEIb; UmWsesSaUa_O: Z1eWbOUHUcQw: goto LQdaQYk0EBJw; CJnkIWb0r28d: $header .= "\x3b{$eol}\40{$name}\75{$value}"; goto SV2jeRjLOBgm; omI8OSoSlyzr: $value = addcslashes($value, "\134\x22"); goto Ew2jU7WY3jv1; Ew2jU7WY3jv1: $header .= "\73{$eol}\40{$name}\75\42{$value}\x22"; goto W7zFjCOj6y1R; U6dWEwlOTaBl: if ($name == "\x62\157\165\x6e\144\141\x72\x79") { goto d0r3hJ8tJfWl; } goto N1AtkKxSJ4_3; oZRHQwLhkQ16: goto TdT3Rf6G5kML; goto GfyhjyFwaQFX; N1AtkKxSJ4_3: if (!preg_match($token_regexp, $value)) { goto xY1ky5LGkAd9; } goto omI8OSoSlyzr; LQdaQYk0EBJw: } goto AF0dTOsXyDxO; RlL4Aigw9kyd: yUDFW0Lh5LCn: goto CIu9GdxadgwW; CIu9GdxadgwW: if (!(stripos($type, "\155\x75\154\164\x69\160\x61\162\164\57") === 0)) { goto OysuNYvjZ1uz; } goto vjvLWH8LlPiY; N8faeIjnvtha: } public function setSubject($subject) { $this->headers["\x53\165\142\x6a\145\x63\164"] = $subject; } public function setFrom($email) { $this->headers["\x46\162\x6f\155"] = $email; } public function addTo($email) { goto K_c0pms3oVvx; Ed26gA8d6wsE: $this->headers["\124\x6f"] .= "\54\40{$email}"; goto y_Jav1LXv97d; jOIuNcdmMZin: goto fjWrSeesUs4T; goto pQCV6q9t3ZnE; K_c0pms3oVvx: if (isset($this->headers["\x54\157"])) { goto vudDOO8dhwDe; } goto ice25Yc6Q28k; pQCV6q9t3ZnE: vudDOO8dhwDe: goto Ed26gA8d6wsE; y_Jav1LXv97d: fjWrSeesUs4T: goto zAxYJdOZjXoI; ice25Yc6Q28k: $this->headers["\124\x6f"] = $email; goto jOIuNcdmMZin; zAxYJdOZjXoI: } public function addCc($email) { goto oG8tSGqk2POd; oG8tSGqk2POd: if (isset($this->headers["\x43\143"])) { goto NRnCpxmZ8nOZ; } goto Q9S6QlnSReBc; xM1Cn4rgwir1: agHBwAylfDhp: goto Wp1D7080Xbkh; Q9S6QlnSReBc: $this->headers["\x43\x63"] = $email; goto Zd3Hcpju71Dm; pmSQx49cHs89: NRnCpxmZ8nOZ: goto V_9SB2MAZ0jk; Zd3Hcpju71Dm: goto agHBwAylfDhp; goto pmSQx49cHs89; V_9SB2MAZ0jk: $this->headers["\103\143"] .= "\x2c\40{$email}"; goto xM1Cn4rgwir1; Wp1D7080Xbkh: } public function addBcc($email) { goto NiuQ38nv0fTj; RamKWPbZibja: goto H43kaLHeHW7C; goto uoidYILY8eNT; gCrzcO7_MF8N: $this->headers["\x42\x63\143"] = $email; goto RamKWPbZibja; CT6xsIJoaGk3: H43kaLHeHW7C: goto hTsJrJLobMGx; heG_ZbdLYyrL: $this->headers["\102\143\x63"] .= "\54\40{$email}"; goto CT6xsIJoaGk3; uoidYILY8eNT: VR1fdaILhWuU: goto heG_ZbdLYyrL; NiuQ38nv0fTj: if (isset($this->headers["\x42\x63\x63"])) { goto VR1fdaILhWuU; } goto gCrzcO7_MF8N; hTsJrJLobMGx: } public function encodeRecipients($recipients) { goto Iw3XvI0y2YH4; Iw3XvI0y2YH4: $input = array("\x54\157" => $recipients); goto x24YZ02KXGhx; LQaXD1wbg77v: return $retval["\x54\157"]; goto sB4rrYFa6XA0; x24YZ02KXGhx: $retval = $this->encodeHeaders($input); goto LQaXD1wbg77v; sB4rrYFa6XA0: } protected function encodeHeaders($input, $params = array()) { goto MMTjtvYtAjJV; iouHNFebbfoe: fNRSACGgQ69E: goto NG6f6plG0CnW; UaQcoSPD2_zx: if (empty($params)) { goto fNRSACGgQ69E; } goto OSHJ8eA2h8gO; tLJrzQ9KLK3y: return $input; goto cUWupGxroxHw; MMTjtvYtAjJV: $build_params = $this->build_params; goto UaQcoSPD2_zx; NG6f6plG0CnW: foreach ($input as $hdr_name => $hdr_value) { goto S4GeeH5q7n0r; scE7hyiEDJvq: Ff3B2GO6tvF1: goto IEoBURmAwqEJ; uITNqFYzX4UC: rdr4xFI2zk_0: goto X02fg_nbPhQE; zD7Ao68RSmJt: foreach ($hdr_value as $idx => $value) { $input[$hdr_name][$idx] = $this->encodeHeader($hdr_name, $value, $build_params["\x68\145\141\144\137\143\150\141\162\163\x65\x74"], $build_params["\150\145\x61\144\x5f\x65\x6e\143\x6f\x64\x69\x6e\147"]); ZrO4P1q5GBLu: } goto QgvTazE2_95S; Dq6flePE11jK: inOjAB40Dlc_: goto zD7Ao68RSmJt; S4GeeH5q7n0r: if (is_array($hdr_value)) { goto inOjAB40Dlc_; } goto j1R3KbrxD55h; j1R3KbrxD55h: if ($hdr_value !== null) { goto ta3KPE6JwYYd; } goto TuFlCEr0tCsA; X02fg_nbPhQE: goto Ff0U0sKxMNQf; goto Dq6flePE11jK; R3ZWo29TpkYg: Ff0U0sKxMNQf: goto scE7hyiEDJvq; vOu1yAC_L0fD: goto rdr4xFI2zk_0; goto lEfCuwrvXOt0; TuFlCEr0tCsA: unset($input[$hdr_name]); goto vOu1yAC_L0fD; lEfCuwrvXOt0: ta3KPE6JwYYd: goto Iu09TiQ91HP3; Iu09TiQ91HP3: $input[$hdr_name] = $this->encodeHeader($hdr_name, $hdr_value, $build_params["\150\145\x61\x64\x5f\x63\150\141\x72\x73\145\x74"], $build_params["\150\x65\141\144\137\145\156\x63\157\144\151\156\x67"]); goto uITNqFYzX4UC; QgvTazE2_95S: hIkg7rCcZCXH: goto R3ZWo29TpkYg; IEoBURmAwqEJ: } goto AeCoCEahe_oQ; OSHJ8eA2h8gO: $build_params = array_merge($build_params, $params); goto iouHNFebbfoe; AeCoCEahe_oQ: j3QYdyq3KC9f: goto tLJrzQ9KLK3y; cUWupGxroxHw: } public function encodeHeader($name, $value, $charset, $encoding) { return Mail_mimePart::encodeHeader($name, $value, $charset, $encoding, $this->build_params["\x65\x6f\154"]); } protected function basename($filename) { goto zxkFSh5zlF68; N8lsbO2tg1Na: return preg_replace("\x2f\136\x2e\x2a\x5b\x5c\x5c\x5c\x2f\x5d\57", '', $filename); goto eEsU0jZd9G3r; eEsU0jZd9G3r: TWyjW8lLx7pB: goto fQZFowb49g1J; zxkFSh5zlF68: if (stristr(PHP_OS, "\x77\x69\156") || stristr(PHP_OS, "\x6e\145\164\x77\141\162\145")) { goto d9KhI1RmcGql; } goto SghYyTHCymtj; Ko13C_Oa7LZL: goto TWyjW8lLx7pB; goto QTHD_yBsWEBv; QTHD_yBsWEBv: d9KhI1RmcGql: goto N8lsbO2tg1Na; SghYyTHCymtj: return preg_replace("\x2f\136\x2e\x2a\133\x5c\x2f\135\x2f", '', $filename); goto Ko13C_Oa7LZL; fQZFowb49g1J: } protected function contentHeaders() { goto BeuYTzIlV2rE; flpshfg21Ut7: $html = strlen($this->htmlbody) > 0; goto oBVWq1ZHOdHj; Z_BdofqG8n7_: $headers["\x43\x6f\x6e\x74\145\x6e\164\x2d\x54\x79\x70\x65"] .= strlen($charset) + 25 <= 76 ? "\73\x20{$charset}" : "\x3b{$eol}\x20{$charset}"; goto RuibPLwjmkuF; yuTz1ESUcOwi: $headers["\x43\157\x6e\164\x65\156\x74\x2d\x54\171\x70\x65"] .= "\73\x20{$charset}"; goto t9BCQY0IPfkw; T0AMgWlala2A: iKiATogUCD22: goto i4foJ0c1Xxbj; oCxl8xJ1dY_L: goto gmFl0seSr4LT; goto saclI57biWHX; r3Kz6xyoQNmn: gmFl0seSr4LT: goto Ft9FPxUPpeu4; WA9Oe2vEOfst: goto KSJIg9WXVu1C; goto SDzKuC7sQMRM; Ji1Az23kWAu3: goto uqKXop508t6h; goto uozy8ausKuYU; JVfPRwiTnqvv: $headers["\103\x6f\x6e\164\x65\156\x74\x2d\124\x72\141\156\x73\146\x65\162\x2d\105\156\143\157\x64\151\x6e\x67"] = $this->build_params["\x74\x65\x78\x74\x5f\145\156\x63\157\144\151\156\147"]; goto CpfQa2yiYp1V; Ba8hubzgEwhJ: goto uUq0HtjHtYmO; goto g3TUkOJ8Qtbz; uxINelAfuwGJ: $has_alternatives = $html + $calendar + $has_text > 1; goto CCfQn2C1gzMV; NCPkFFG9NHJF: if (!empty($this->build_params["\142\x6f\165\156\x64\141\x72\x79"])) { goto R_7gljEYR6z5; } goto t7HyX61Ew3HB; t_e5PDgBHxbP: if ($headers["\x43\157\x6e\x74\145\x6e\164\55\x54\x79\x70\x65"] == "\164\145\x78\164\57\x70\x6c\x61\x69\156") { goto Xg8fgv2GXTQT; } goto YsZZQ30sbdZ5; bcT4mFJRJD3u: $headers["\x43\x6f\156\164\145\156\164\x2d\124\x72\141\156\x73\x66\x65\162\x2d\105\x6e\x63\157\144\x69\x6e\x67"] = $this->build_params["\x68\164\155\154\x5f\x65\156\x63\x6f\144\x69\156\147"]; goto UlgxDkz8aZIu; nIqvYtdBEBsr: $charset = "\143\x68\x61\162\x73\x65\164\75" . $this->build_params["\164\145\170\164\x5f\143\150\x61\162\x73\x65\x74"]; goto lUbRa7ldKSKZ; CCfQn2C1gzMV: $headers = array(); goto sYqOxfObaurt; sYqOxfObaurt: switch (true) { case $has_text && !$attachments && !$has_alternatives: $headers["\x43\157\156\x74\x65\x6e\164\55\124\x79\x70\x65"] = "\164\145\x78\164\x2f\x70\x6c\x61\x69\x6e"; goto lwd3MADhjtD0; case $html && !$html_images && !$attachments && !$has_alternatives: $headers["\x43\x6f\156\x74\x65\156\x74\x2d\124\171\x70\145"] = "\x74\145\x78\x74\57\x68\164\x6d\x6c"; goto lwd3MADhjtD0; case $html && $html_images && !$attachments && !$has_alternatives: $headers["\103\x6f\156\164\x65\x6e\x74\55\x54\x79\x70\x65"] = "\x6d\x75\154\164\151\160\x61\x72\164\57\162\145\x6c\x61\164\x65\x64"; goto lwd3MADhjtD0; case $calendar && !$attachments && !$has_alternatives: $headers["\x43\x6f\156\164\x65\156\x74\x2d\x54\x79\160\x65"] = "\164\145\x78\164\57\x63\141\154\145\x6e\144\x61\x72"; goto lwd3MADhjtD0; case $has_alternatives && !$attachments: $headers["\x43\x6f\156\164\145\x6e\164\x2d\124\171\160\x65"] = "\155\165\x6c\164\x69\160\x61\x72\164\57\141\154\164\145\162\x6e\x61\164\151\166\x65"; goto lwd3MADhjtD0; case $attachments: $headers["\103\157\x6e\164\x65\156\x74\x2d\124\x79\160\x65"] = "\x6d\165\x6c\164\151\160\141\162\164\57\x6d\x69\x78\145\x64"; goto lwd3MADhjtD0; } goto DVCZEJddkj6l; tJql_1YH_iXD: $boundary = $this->build_params["\142\157\x75\156\x64\141\x72\x79"]; goto r3Kz6xyoQNmn; x3g0a6n2mbRJ: goto UtIQnoVhanMI; goto PctyY03OBzlz; SW8JAPv4YhdR: if (!$this->build_params["\150\x74\x6d\x6c\137\x63\x68\x61\162\x73\x65\x74"]) { goto kwgKnWprUVkD; } goto yFRA6zQ1yX26; UlgxDkz8aZIu: KSJIg9WXVu1C: goto Ba8hubzgEwhJ; GeFspyyIoVvX: $headers["\x43\157\x6e\164\145\156\164\55\124\x79\x70\x65"] .= "\73{$eol}\40\x62\x6f\165\x6e\x64\x61\x72\x79\75\42{$boundary}\42"; goto x3g0a6n2mbRJ; saclI57biWHX: R_7gljEYR6z5: goto tJql_1YH_iXD; i4foJ0c1Xxbj: $this->checkParams(); goto ShVVASqbLsRL; Yi2xZakNh5jL: if (!$this->build_params["\x63\141\x6c\x65\156\144\141\162\137\143\x68\x61\x72\163\x65\164"]) { goto DNpzDKb1sE5B; } goto OOEeeOFTa5sz; oBVWq1ZHOdHj: $calendar = strlen($this->calbody) > 0; goto LerIkHG0gjyI; X9JrZ_ppZ3Ev: $headers["\x43\x6f\x6e\x74\x65\x6e\x74\55\124\162\141\156\x73\x66\x65\162\55\105\x6e\143\157\x64\x69\x6e\147"] = $this->build_params["\143\x61\154\x65\x6e\x64\141\162\x5f\145\x6e\143\157\x64\x69\x6e\147"]; goto EH7PC3dwaLKS; CpfQa2yiYp1V: uUq0HtjHtYmO: goto YEOjbn__LF03; YsZZQ30sbdZ5: if ($headers["\x43\x6f\x6e\x74\x65\x6e\164\x2d\124\171\x70\145"] == "\x74\x65\x78\164\57\150\164\155\154") { goto OhzWI0jmvHLA; } goto C_3d8rQ9kZLp; OJ4gdj8bK6yu: Ybs3GKpbWg9t: goto X9JrZ_ppZ3Ev; OOEeeOFTa5sz: $charset = "\143\150\141\x72\163\x65\164\x3d" . $this->build_params["\x63\141\154\145\156\x64\x61\162\x5f\143\150\x61\162\163\145\164"]; goto yuTz1ESUcOwi; RuibPLwjmkuF: kwgKnWprUVkD: goto bcT4mFJRJD3u; SDzKuC7sQMRM: OhzWI0jmvHLA: goto SW8JAPv4YhdR; C_3d8rQ9kZLp: if ($headers["\x43\157\156\164\145\156\x74\55\x54\171\160\x65"] == "\164\145\170\164\x2f\x63\141\154\x65\x6e\144\x61\x72") { goto HZCuY4cyOV53; } goto NCPkFFG9NHJF; QdS9FS6z7PqX: $method = "\x6d\x65\164\x68\x6f\x64\x3d" . $this->build_params["\143\x61\x6c\145\x6e\x64\141\162\137\x6d\x65\164\x68\x6f\x64"]; goto imDk2ZGa_mBH; Si_CawpPNE_N: $boundary = "\x3d\137" . md5(rand() . microtime()); goto Ji1Az23kWAu3; EH7PC3dwaLKS: UtIQnoVhanMI: goto WA9Oe2vEOfst; t7HyX61Ew3HB: if (!empty($this->headers["\103\x6f\156\164\145\x6e\x74\55\x54\x79\x70\145"]) && preg_match("\x2f\x62\x6f\x75\156\144\141\162\x79\x3d\x22\x28\x5b\x5e\x22\135\x2b\x29\42\x2f", $this->headers["\x43\157\x6e\x74\x65\156\164\x2d\124\x79\160\x65"], $m)) { goto g2GAkwOEOtr4; } goto Si_CawpPNE_N; t9BCQY0IPfkw: DNpzDKb1sE5B: goto r2HQDEblmRrt; uMGpzIjyXa9V: lwd3MADhjtD0: goto QDL0Zi_nQXcj; ShVVASqbLsRL: $eol = !empty($this->build_params["\x65\x6f\x6c"]) ? $this->build_params["\x65\157\x6c"] : "\15\xa"; goto t_e5PDgBHxbP; XvWScYOvSyNu: c6vp8XAMgPgz: goto JVfPRwiTnqvv; g3TUkOJ8Qtbz: Xg8fgv2GXTQT: goto ZZfvTmZHV2jF; LerIkHG0gjyI: $has_text = strlen($this->txtbody) > 0; goto uxINelAfuwGJ; YEOjbn__LF03: return $headers; goto tdJlztVbQpR2; PctyY03OBzlz: HZCuY4cyOV53: goto Yi2xZakNh5jL; QDL0Zi_nQXcj: if (!empty($headers)) { goto iKiATogUCD22; } goto trBsTw808gX5; yFRA6zQ1yX26: $charset = "\x63\150\x61\x72\163\x65\164\75" . $this->build_params["\150\164\x6d\154\x5f\x63\x68\x61\x72\x73\x65\164"]; goto Z_BdofqG8n7_; imDk2ZGa_mBH: $headers["\x43\157\156\x74\x65\x6e\164\55\124\x79\x70\x65"] .= "\73\40{$method}"; goto OJ4gdj8bK6yu; lUbRa7ldKSKZ: $headers["\x43\x6f\156\164\x65\156\x74\x2d\124\171\160\145"] .= strlen($charset) + 26 <= 76 ? "\73\40{$charset}" : "\x3b{$eol}\40{$charset}"; goto XvWScYOvSyNu; BeuYTzIlV2rE: $attachments = count($this->parts) > 0; goto GFBmwbk6XTFf; DVCZEJddkj6l: btPNphkY8unC: goto uMGpzIjyXa9V; ZZfvTmZHV2jF: if (!$this->build_params["\164\x65\x78\x74\137\x63\150\141\x72\x73\145\164"]) { goto c6vp8XAMgPgz; } goto nIqvYtdBEBsr; uozy8ausKuYU: g2GAkwOEOtr4: goto dNnxVz_Rwqz2; GFBmwbk6XTFf: $html_images = count($this->html_images) > 0; goto flpshfg21Ut7; r2HQDEblmRrt: if (!$this->build_params["\x63\141\154\145\156\x64\x61\162\x5f\x6d\x65\x74\150\x6f\x64"]) { goto Ybs3GKpbWg9t; } goto QdS9FS6z7PqX; uH0gysV3g2JY: uqKXop508t6h: goto oCxl8xJ1dY_L; trBsTw808gX5: return $headers; goto T0AMgWlala2A; Ft9FPxUPpeu4: $this->build_params["\x62\157\165\x6e\144\x61\162\x79"] = $boundary; goto GeFspyyIoVvX; dNnxVz_Rwqz2: $boundary = $m[1]; goto uH0gysV3g2JY; tdJlztVbQpR2: } protected function checkParams() { goto QGdGEnYbqDB_; MvGTRuj3mCFT: if (!($this->build_params["\164\145\x78\164\137\145\x6e\143\157\144\x69\156\147"] == "\67\x62\151\x74" && !preg_match("\x2f\x61\x73\143\151\151\x2f\x69", $this->build_params["\x74\145\170\164\x5f\143\x68\x61\162\x73\145\164"]) && preg_match("\57\133\136\134\170\x30\60\55\x5c\170\67\x46\x5d\57", $this->txtbody))) { goto MHwhteFQrfRj; } goto Azup1ypip23m; ii5X0mNSYGhq: JfFbI7ySLYg2: goto MvGTRuj3mCFT; jXn9MGtJUrz6: if (in_array($this->build_params["\x74\x65\170\x74\137\145\x6e\x63\x6f\144\x69\156\x67"], $encodings)) { goto G3VaAyex8wK3; } goto QAuMmPxIw43H; O6q4suA0GJ4N: MHwhteFQrfRj: goto GPgUNEeUwSA5; jwgdCowhICRU: $this->build_params["\143\141\154\145\156\x64\x61\x72\137\x65\156\x63\157\x64\151\156\147"] = "\x37\142\x69\x74"; goto ii5X0mNSYGhq; SBeefuDllkhL: MpWmMxxhr4dx: goto olflmaMvUmTY; RJQtBg6kxRHQ: if (!($this->build_params["\143\141\x6c\x65\156\144\141\162\x5f\145\x6e\x63\x6f\144\x69\x6e\147"] == "\67\x62\151\164" && !preg_match("\x2f\141\163\143\x69\151\57\151", $this->build_params["\x63\x61\x6c\145\x6e\x64\x61\x72\x5f\x63\150\141\x72\163\x65\164"]) && preg_match("\x2f\133\x5e\134\170\60\60\55\x5c\x78\x37\x46\135\57", $this->calbody))) { goto MpWmMxxhr4dx; } goto EDDCBRi0Jm8B; nOsnxF0U3Oh6: $this->build_params["\150\x74\x6d\x6c\x5f\145\156\x63\x6f\144\x69\156\x67"] = strtolower($this->build_params["\150\164\155\x6c\137\145\156\x63\x6f\144\x69\x6e\x67"]); goto rQlA88DVNda7; a2BqRRFctjFZ: G3VaAyex8wK3: goto BxFm3Rnprw4m; EDDCBRi0Jm8B: $this->build_params["\143\x61\x6c\145\156\144\x61\162\x5f\145\x6e\x63\x6f\x64\151\x6e\147"] = "\x71\165\x6f\x74\x65\x64\55\x70\x72\151\156\x74\141\x62\x6c\x65"; goto SBeefuDllkhL; jRqkZJVmTtO2: G05ECI8rAK4a: goto RJQtBg6kxRHQ; aDgW7Z58sh9l: $this->build_params["\x68\x74\155\x6c\x5f\x65\x6e\143\157\x64\151\156\147"] = "\161\165\x6f\x74\x65\x64\x2d\160\x72\151\x6e\x74\141\142\154\145"; goto jRqkZJVmTtO2; rQlA88DVNda7: $this->build_params["\x63\x61\154\145\156\x64\141\162\137\x65\156\x63\157\144\x69\156\147"] = strtolower($this->build_params["\x63\141\x6c\x65\x6e\144\141\162\137\145\156\x63\x6f\x64\151\x6e\x67"]); goto jXn9MGtJUrz6; KrrthEnbIGUU: $this->build_params["\164\145\170\164\137\x65\x6e\143\157\144\151\156\x67"] = strtolower($this->build_params["\x74\x65\x78\x74\x5f\x65\x6e\143\157\x64\x69\x6e\147"]); goto nOsnxF0U3Oh6; rlvT9aCBNCVX: if (in_array($this->build_params["\x63\141\154\x65\x6e\x64\x61\162\137\x65\x6e\143\x6f\x64\151\156\147"], $encodings)) { goto JfFbI7ySLYg2; } goto jwgdCowhICRU; Azup1ypip23m: $this->build_params["\164\145\x78\164\x5f\145\156\x63\157\x64\x69\x6e\x67"] = "\x71\x75\x6f\164\x65\144\x2d\x70\162\x69\156\164\x61\142\x6c\x65"; goto O6q4suA0GJ4N; QGdGEnYbqDB_: $encodings = array("\x37\142\x69\164", "\x38\142\151\164", "\x62\x61\163\x65\x36\x34", "\x71\x75\157\x74\145\144\x2d\160\162\x69\156\x74\x61\142\x6c\145"); goto KrrthEnbIGUU; O_A8c4Yxct6Z: NfMRbw7vs9YP: goto rlvT9aCBNCVX; DjpDMhkwFNHh: $this->build_params["\x68\x74\x6d\x6c\137\145\x6e\x63\157\x64\x69\x6e\x67"] = "\67\142\151\164"; goto O_A8c4Yxct6Z; GPgUNEeUwSA5: if (!($this->build_params["\x68\x74\155\154\137\x65\156\143\157\144\x69\x6e\x67"] == "\67\142\151\164" && !preg_match("\x2f\141\x73\x63\x69\x69\x2f\151", $this->build_params["\150\164\155\154\137\143\150\141\162\163\x65\164"]) && preg_match("\57\x5b\x5e\134\170\60\60\55\x5c\170\x37\x46\135\57", $this->htmlbody))) { goto G05ECI8rAK4a; } goto aDgW7Z58sh9l; QAuMmPxIw43H: $this->build_params["\x74\x65\x78\164\x5f\x65\x6e\x63\157\x64\x69\156\x67"] = "\67\x62\x69\x74"; goto a2BqRRFctjFZ; BxFm3Rnprw4m: if (in_array($this->build_params["\x68\x74\x6d\154\137\x65\156\x63\157\144\151\x6e\x67"], $encodings)) { goto NfMRbw7vs9YP; } goto DjpDMhkwFNHh; olflmaMvUmTY: } protected function setBody($type, $data, $isfile = false, $append = false) { goto u14MmcZ4TKQZ; q2tPDBqaXzWE: Bjh179r9H7dG: goto K9BE6KSDInfS; XnpkC367ZlB3: VXgP99LvV999: goto NZftN8a8iRpk; pKjvkZqSgRT1: if (!$append) { goto VXgP99LvV999; } goto MXgo0iwpmiC9; u14MmcZ4TKQZ: if (!$isfile) { goto fMY2UgQEyuRL; } goto YZpFRIqwl3Uv; NZftN8a8iRpk: $this->{$type} = $data; goto E00XI8_qZjmD; K9BE6KSDInfS: fMY2UgQEyuRL: goto pKjvkZqSgRT1; YZpFRIqwl3Uv: $data = $this->file2str($data); goto Tk5f_ROdSLCB; MXgo0iwpmiC9: $this->{$type} .= $data; goto wvy3ULRrrQ1g; wvy3ULRrrQ1g: goto Ym3ZpzAA7hnB; goto XnpkC367ZlB3; Tk5f_ROdSLCB: if (!self::isError($data)) { goto Bjh179r9H7dG; } goto B966of06VhMw; KUTDMtDcFxVz: return true; goto iWkCYJSho4cx; E00XI8_qZjmD: Ym3ZpzAA7hnB: goto KUTDMtDcFxVz; B966of06VhMw: return $data; goto q2tPDBqaXzWE; iWkCYJSho4cx: } protected function addBodyPart($obj, $body, $ctype, $type) { goto ZbYVk7JFdf59; mBoAkTuUNycH: goto XuLNMzWsXRvV; goto N1pahOiGaiKl; N1pahOiGaiKl: A7YDvEsHtH2i: goto nudkY7fPUp5o; d0aXvm3K1XLn: $params["\145\157\154"] = $this->build_params["\145\x6f\154"]; goto Phh4CdO55VRQ; Kvc2Njh2aQUQ: return $ret; goto IjyQ91aFeYfN; u6Mr2CAQUMZV: XuLNMzWsXRvV: goto Kvc2Njh2aQUQ; k6xlFwF0I9jk: $ret = new Mail_mimePart($body, $params); goto mBoAkTuUNycH; Phh4CdO55VRQ: if (is_object($obj)) { goto A7YDvEsHtH2i; } goto k6xlFwF0I9jk; nudkY7fPUp5o: $ret = $obj->addSubpart($body, $params); goto u6Mr2CAQUMZV; uauiULzkW1Ic: $params["\145\x6e\x63\x6f\x64\151\156\x67"] = $this->build_params[$type . "\137\x65\x6e\x63\x6f\144\x69\156\x67"]; goto ZQbpmnYDQBrP; ZQbpmnYDQBrP: $params["\x63\150\141\162\x73\145\x74"] = $this->build_params[$type . "\137\143\150\141\x72\163\145\164"]; goto d0aXvm3K1XLn; ZbYVk7JFdf59: $params["\x63\x6f\156\164\x65\x6e\164\137\x74\171\x70\x65"] = $ctype; goto uauiULzkW1Ic; IjyQ91aFeYfN: } public static function isError($data) { goto QSdlMJJS9BCB; ksNhH4dKjQZR: RjKguLl7ate3: goto S0s6YxR7g1ZU; QSdlMJJS9BCB: if (!(false === $data)) { goto RjKguLl7ate3; } goto XaQ7DEm64fXU; S0s6YxR7g1ZU: return false; goto j5E5b2xXQjc5; XaQ7DEm64fXU: return true; goto ksNhH4dKjQZR; j5E5b2xXQjc5: } function raiseError($message) { ZLog::Write(LOGLEVEL_ERROR, "\x6d\151\x6d\145\x20\x65\x72\162\157\162\x3a\x20" . $message); return false; } }
